<!DOCTYPE html>
<html ang="en">

<head>
    <meta charset="utf-8">
    <title>Fall beta</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - Fall beta</title>
    <link rel="stylesheet" href="dev/dev.css">
    <style>
        /* Additional styles specific to the blog page */
        .blog-content {
            position: relative;
            left: 50px;
            width: 80%;
        }

        .blog-post {
            margin-bottom: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            background-color: #fff;
        }

        .blog-post img {
            max-width: 100%;
            height: auto;
        }

        .content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .pic-w {
            flex: 0 0 30%;
            /* Adjust the width as needed */
            margin: 10px;
        }

        .pic-w object {
            width: 100%;
            height: auto;
        }

        .navbar {
            background-color: #f0f0f0;
            overflow: hidden;
        }

        .navbar a {
            float: left;
            display: block;
            color: #333; /* Original text color */
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        .navbar a:hover {
            background-color: #ddd;
            color: #000; /* Hover text color */
        }

        .navbar a.active {
            background-color: #4CAF50;
            color: #fff; /* Active text color */
        }

        .footer {
            background-color: #f0f0f0;
            padding: 10px 20px;
            text-align: center;
        }

        .footer a {
            color: #333; /* Original text color */
            text-decoration: none;
            margin: 0 10px;
        }

        .footer a:hover {
            text-decoration: underline;
        }

         @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }

            .pic-w {
                flex: 0 0 100%;
                margin: 10px;
            }
        }

        @media (max-width: 480px) {
            .navbar a {
                float: none;
                display: block;
                text-align: left;
                width: 100%;
                box-sizing: border-box;
            }
        }
    </style>
</head>

<body>
    <h1>Fall beta</h1>
    <div class="navbar">
        <nav>
            <a href="index.html">Resume</a>
            <a href="blog.html">Blog</a>
            <a href="XAUAT.html">Design on XAUAT</a>
            <a href="works.html">Works</a>
            <a href="dev.html">Dev</a>
        </nav>
    </div>

    <div class="content blog-content">
        <div class="blog-post">
            <h2>数字时钟设计</h2>
            <p>Published on: January 10, 2024</p>
            <img src="path/to/your/image1.jpg" alt="Image 1">
            <p>1．设计内容
            （1）选择51单片机，晶振采用12MHz。
            （2）系统可以按“秒”进行计时。
            （3）数字时钟可以显示小时（00～23）、分钟（00～59）和秒（00～59）。
            （4）可通过按键K1来选择设置“小时”、“分钟”和“秒”。设置时可通过“加”和“减”按键（K2、K3）来调整时间；设置过程中时钟停止计时。
            （5）无键按下3秒钟后，自动进入时钟的计时和显示。

            proteus 仿真图如下：
            <img src="..\image\51timer.png">
            <img src="..\image\51timer-2.png">
            程序源代码：
    <pre>
        <xmp>
#include <reg52.h>
    #include <string.h>
        #define uchar unsigned char
        #define uint unsigned int
        sbit en = P3^7;
        sbit rs = P3^4;
        sbit rw = P3^6;

        sbit k1 = P2^1;
        sbit k2 = P2^2;
        sbit k3 = P2^3;
        sbit k0 = P2^0;

        uchar key;
        uchar t;

        uchar time[] = {"00:00:00"};

        char hour,minute,second;

        void delay(uint x )
        {
            uint i,j;
            for(i=0;i<x;i++) 
                for(j=0;j<120;j++); 
        } 
        void write_cmd(uchar cmd) 
        { 
            rs=0;
            P0=cmd;
            delay(5);
            en=1;
            delay(5);
            en=0;
            } 
        void write_data(uchar dat)
            { 
                rs=1;
                P0=dat;
                delay(5);
                en=1;
                delay(5);
                en=0;
                } 
        void init() { 
            uint i;
            TMOD=0x01; 
            TH0=0x4c; 
            TL0=0x01; 
            EA=1; 
            ET0=1; 
            TR0=1; 
            rw=0; 
            en=0; 
            P2=0xff; 
            hour=0; 
            minute=0; 
            second=0;
            write_cmd(0x38);
            write_cmd(0x0c); 
            write_cmd(0x06); 
            write_cmd(0x01); 
            write_cmd(0x80+0x40+3); 
            for(i=0;i<8;i++)
            { 
                write_data(time[i]); 
            } 
        } 
        void write_time(uchar addr,uchar dat) 
        { uchar shi,ge; 
            shi=dat/10; 
            ge=dat%10;
            write_cmd(0x80+0x40+addr);
            write_data(0x30+shi); 
            write_data(0x30+ge); 
        } 
        void keyscan() 
        { if(k1==0) 
            {
            delay(100); 
            if(k1==0) 
            {
                TR0=0; key++; while(k1==1); 
                if(key==1) 
                { 
                    write_cmd(0x80+0x40+10); 
                    write_cmd(0x0f);
                    delay(1); 
                } 
                if(key==2) 
                { 
                    write_cmd(0x80+0x40+7); 
                    write_cmd(0x0f); 
                    delay(1); 
                } 
                if(key==3) 
                {
            
                    write_cmd(0x80+0x40+4); 
                    write_cmd(0x0f); 
                    delay(1); 
                } 
                if(key==4) 
                { 
                    key=0;
                    delay(1); 
                } 
            } 
        } 
        if(key!=0) 
        {
            if(k0==0)
             {
                delay(5); 
                if(k0==0) 
                { 
                    key=0; 
                    TR0=1;
                    write_cmd(0x0c); 
                    delay(100);
                } 
             } 
        } 
        if(key!=0) 
        { 
            if(k2==0)
             {
                delay(5); 
                if(k2==0) 
                { 
                    if(key==1) 
                    {
                        second++; 
                        if(second==60) 
                        { 
                            second=0;
                        } 
                        write_time(9,second);
            write_cmd(0x80+0x40+10);
        } 
         
        if(key==2) 
            minute++; 
            if(minute==60) 
            { 
                minute=0; 
            } 
            write_time(6,minute);
            write_cmd(0x80+0x40+7);
         } 
         if(key==3) 
         { 
            hour++; 
            if(hour==24) 
            { 
                hour=0; 
            } 
            write_time(3,hour);
            write_cmd(0x80+0x40+4); 
        } 
        while(k2==0);
     } 
    } 
    if(key!=0) 
    { 
        if(k3==0) 
        { 
            delay(5); 
            if(k3==0)
            { 
                if(key==1) 
                {
                second--;
                if(second==-1) 
                { 
                    second=59; 
                }
                 write_time(9,second); 
                 write_cmd(0x80+0x40+10); 
                } 
                if(key==2) 
                {
                    minute--; 
                    if(minute==-1) 
                    { 
                        minute=59;
                     } 
                     write_time(6,minute); 
                     write_cmd(0x80+0x40+7); 
                    } 
                    if(key==3) 
                    { 
                        hour--;
                        if(hour==-1) 
                        { 
                            hour=23; 
                        } 
                        write_time(3,hour); 
                        write_cmd(0x80+0x40+4); 
                    } 
                    while(k3==0); 
                } 
            } 
        } 
    }
    void main() 
    {
            init(); 
            while(1) 
            { keyscan();
                if(t==20) 
                { 
                    t=0; 
                    second++; 
                    if(second==60) 
                    { 
                        second=0; minute++; 
                        if(minute==60)
            { 
                minute=0; 
                hour++; 
                if(hour==24) 
                { 
                    hour=0;
                 }
                  write_time(3,hour);
                 } 
                 write_time(6,minute);
                 }
            write_time(9,second);
                }
         }
    } 
         void timer() interrupt 1 
         { 
            TH0=0x4c; 
            TL0=0x01; 
            t++; }

            </xmp>
        </pre>


</p>
        </div>

        <div class="blog-post">
            <h2>Blog Post Title 2</h2>
            <p>Published on: January 15, 2024</p>
            <img src="path/to/your/image2.jpg" alt="Image 2">
            <p>This is the content of the second blog post. Add your text here...</p>
        </div>
    </div>


    <div class="footer">
        <footer>
            <a href="http://www.xauat.edu.cn/">学校官网</a>
        </footer>
    </div>
</body>
<html>